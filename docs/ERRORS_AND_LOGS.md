# الأخطاء والسجلات

يوضح هذا الملف أهم الأخطاء المتوقعة أثناء تشغيل البوت وكيفية التعامل معها، بما في ذلك الرسائل الظاهرة للمستخدم وأين يتم تسجيلها.

| السيناريو | السبب | رسالة الخطأ للمستخدم | سجلّ اللوج |
| --- | --- | --- | --- |
| تحديث بدون مستخدم فعال | `update.effective_user` فارغ | لا يمكن تحديد المستخدم. | `logger.warning("No effective user on update")` |
| مستخدم غير مسجل كمشرف | عدم العثور على المستخدم في جدول المشرفين | المستخدم ليس مشرفًا. | `logger.warning("User %s is not an admin", user.id)` |
| عدم امتلاك صلاحية رفع المحتوى | قيمة صلاحيات المشرف لا تحتوي على `UPLOAD_CONTENT` | لا تملك صلاحية رفع المحتوى. | `logger.warning("User %s lacks upload permission", user.id)` |
| عدم وجود محادثة فعّالة | `update.effective_chat` غير موجود | لا يمكن تحديد المحادثة. | `logger.warning("Missing chat %s", chat)` |
| مجموعة غير معروفة | فشل جلب بيانات المجموعة من قاعدة البيانات | المجموعة غير معروفة. | `logger.warning("Group info not found for chat %s", chat.id)` |
| طلب مراجعة من غير ذي صلاحية | المستخدم لا يملك صلاحية `APPROVE_CONTENT` | عذرًا، لا تملك صلاحية هذا الأمر. | — |
| أمر ربط مجموعة خارج سوبرغروب | تنفيذ `/insert_group` في دردشة ليست Supergroup | استخدم هذا الأمر داخل مجموعة خارقة. | — |
| أمر ربط مجموعة من دون صلاحيات | المستخدم ليس Owner ولا يملك `MANAGE_GROUPS` | عذرًا، لا تملك صلاحية هذا الأمر. | — |
| أمر ربط موضوع خارج Topic | تنفيذ `/insert_sub` في رسالة ليست ضمن Topic | نفّذ الأمر داخل Topic في المجموعة. | — |
| أمر ربط موضوع من دون صلاحيات | المستخدم ليس Owner ولا يملك `MANAGE_GROUPS` | عذرًا، لا تملك صلاحية ربط المواضيع. | — |

